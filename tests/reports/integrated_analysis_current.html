
        <!DOCTYPE html>
        <html>
        <head>
            <title>Integrated Usage Analysis Report</title>
            <style>
                body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
                .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
                .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; }
                .header h1 { margin: 0; font-size: 2.5em; }
                .header p { margin: 10px 0 0 0; opacity: 0.9; }
                .section { margin: 30px 0; }
                .section h2 { color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
                .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
                .metric { background: #f8f9ff; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea; }
                .metric-value { font-size: 2em; font-weight: bold; color: #667eea; }
                .metric-label { color: #666; font-size: 0.9em; }
                .unused { background: #fff5f5; border-left-color: #e53e3e; }
                .unused .metric-value { color: #e53e3e; }
                .used { background: #f0fff4; border-left-color: #38a169; }
                .used .metric-value { color: #38a169; }
                table { border-collapse: collapse; width: 100%; margin: 20px 0; }
                th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                th { background-color: #667eea; color: white; }
                tr:nth-child(even) { background-color: #f9f9f9; }
                .status-200 { color: #38a169; font-weight: bold; }
                .status-404 { color: #e53e3e; font-weight: bold; }
                .status-500 { color: #d69e2e; font-weight: bold; }
                .toggle-info { background: #e6f7ff; padding: 15px; border-radius: 5px; margin: 20px 0; }
            </style>
        </head>
        <body>
            <div class="container">
                <div class="header">
                    <h1>üìä Integrated Usage Analysis</h1>
                    <p>Analysis Duration: 1.3 minutes | Generated: 2025-06-22 16:40:18</p>
                </div>
                
                <div class="toggle-info">
                    <h3>üí° Toggle Analysis</h3>
                    <p><strong>Enable:</strong> Set environment variable <code>ENABLE_USAGE_ANALYSIS=true</code></p>
                    <p><strong>Disable:</strong> Set environment variable <code>ENABLE_USAGE_ANALYSIS=false</code></p>
                    <p><strong>Current Status:</strong> ‚úÖ Enabled</p>
                </div>
                
                <div class="section">
                    <h2>üìä Overview</h2>
                    <div class="metrics-grid">
                        <div class="metric used">
                            <div class="metric-value">31</div>
                            <div class="metric-label">Total API Calls</div>
                        </div>
                        <div class="metric used">
                            <div class="metric-value">12</div>
                            <div class="metric-label">Endpoints Used</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">0</div>
                            <div class="metric-label">Endpoints Discovered</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">462</div>
                            <div class="metric-label">Functions Discovered</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">86</div>
                            <div class="metric-label">Classes Discovered</div>
                        </div>
                        <div class="metric unused">
                            <div class="metric-value">0</div>
                            <div class="metric-label">Unused Endpoints</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>üìà Code Coverage</h2>
                    <div class="metrics-grid">
                        <div class="metric used">
                            <div class="metric-value">0.0%</div>
                            <div class="metric-label">Endpoint Coverage</div>
                        </div>
                        <div class="metric used">
                            <div class="metric-value">0.2%</div>
                            <div class="metric-label">Function Coverage</div>
                        </div>
                        <div class="metric used">
                            <div class="metric-value">1.2%</div>
                            <div class="metric-label">Class Coverage</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>üåê Most Used Endpoints</h2>
                    <table>
                        <tr><th>Endpoint</th><th>Calls</th><th>Avg Response Time</th></tr>
        
                        <tr>
                            <td><code>GET /api/v1/documents/status</code></td>
                            <td>8</td>
                            <td>0.017s</td>
                        </tr>
            
                        <tr>
                            <td><code>POST /api/generate-field-answer</code></td>
                            <td>6</td>
                            <td>1.569s</td>
                        </tr>
            
                        <tr>
                            <td><code>OPTIONS /api/v1/documents/status</code></td>
                            <td>4</td>
                            <td>0.000s</td>
                        </tr>
            
                        <tr>
                            <td><code>GET /api/urls/stats/summary</code></td>
                            <td>4</td>
                            <td>0.031s</td>
                        </tr>
            
                        <tr>
                            <td><code>OPTIONS /api/urls/stats/summary</code></td>
                            <td>2</td>
                            <td>0.001s</td>
                        </tr>
            
                        <tr>
                            <td><code>OPTIONS /api/session/e21001f3-e590-40fc-8d40-0a5e0a4c30f2</code></td>
                            <td>1</td>
                            <td>0.000s</td>
                        </tr>
            
                        <tr>
                            <td><code>DELETE /api/session/e21001f3-e590-40fc-8d40-0a5e0a4c30f2</code></td>
                            <td>1</td>
                            <td>0.006s</td>
                        </tr>
            
                        <tr>
                            <td><code>POST /api/logout</code></td>
                            <td>1</td>
                            <td>0.002s</td>
                        </tr>
            
                        <tr>
                            <td><code>OPTIONS /api/simple/login</code></td>
                            <td>1</td>
                            <td>0.000s</td>
                        </tr>
            
                        <tr>
                            <td><code>POST /api/simple/login</code></td>
                            <td>1</td>
                            <td>0.275s</td>
                        </tr>
            
                    </table>
                </div>
                
                <div class="section">
                    <h2>‚ö° Most Used Functions</h2>
                    <table>
                        <tr><th>Function Name</th><th>File</th><th>Calls</th><th>Avg Time</th><th>Success Rate</th><th>Input Types</th><th>Output Types</th></tr>
        
                        <tr>
                            <td><code>generate_field_answer</code></td>
                            <td><code>llm_service</code></td>
                            <td>6</td>
                            <td>1.5645s</td>
                            <td>100.0%</td>
                            <td>str</td>
                            <td>str</td>
                        </tr>
            
                    </table>
                </div>
                
                <div class="section">
                    <h2>üèóÔ∏è Most Used Classes</h2>
                    <table>
                        <tr><th>Class Name</th><th>File</th><th>Instantiations</th><th>Methods Called</th><th>Most Used Method</th><th>Constructor Args</th></tr>
        
                        <tr>
                            <td><code>RedisLLMService</code></td>
                            <td><code>llm_service</code></td>
                            <td>6</td>
                            <td>6 calls on 1 methods</td>
                            <td><code>generate_field_answer</code></td>
                            <td><code>(redis_url=redis://localhost:63...)</code></td>
                        </tr>
            
                    </table>
                </div>
                
                <div class="section">
                    <h2>üö´ Unused Code</h2>
                    <h3>Unused Endpoints</h3>
                    <ul>
        
                    </ul>
                    <h3>Unused Functions (Top 20)</h3>
                    <ul>
        <li>‚ùå <code>performance_monitor.save_report</code></li><li>‚ùå <code>demo_function_class_tracking.get_user</code></li><li>‚ùå <code>migrate_personal_info_schema.migrate_personal_info_schema</code></li><li>‚ùå <code>test_sample_pytest.test_expected_failure</code></li><li>‚ùå <code>postgres_service.__init__</code></li><li>‚ùå <code>simple_function_tracker.get_analyzer</code></li><li>‚ùå <code>database.get_db</code></li><li>‚ùå <code>test_improved_chunking.main</code></li><li>‚ùå <code>integrated_usage_analyzer.start_analysis</code></li><li>‚ùå <code>url_tracking_service.get_url_by_id</code></li><li>‚ùå <code>cache_analytics_demo.log_cache_analysis</code></li><li>‚ùå <code>deploy.create_database</code></li><li>‚ùå <code>migrate_resume_table.migrate</code></li><li>‚ùå <code>detailed_code_analysis._analyze_classes</code></li><li>‚ùå <code>test_url_tracking_api.main</code></li><li>‚ùå <code>user_models.__repr__</code></li><li>‚ùå <code>test_sample_pytest.test_unix_specific</code></li><li>‚ùå <code>main.extract_text_from_bytes</code></li><li>‚ùå <code>document_service._get_file_extension</code></li><li>‚ùå <code>text_extractor.extract_from_txt</code></li>
                    </ul>
                    <h3>Unused Classes (Top 20)</h3>
                    <ul>
        <li>‚ùå <code>main.SessionResponse</code></li><li>‚ùå <code>schemas.Config</code></li><li>‚ùå <code>performance_monitor.PerformanceMonitor</code></li><li>‚ùå <code>performance_monitor.PerformanceMetric</code></li><li>‚ùå <code>main.DocumentUploadResponse</code></li><li>‚ùå <code>test_sample_pytest.TestModuleFixture</code></li><li>‚ùå <code>document_models.DocumentProcessingLog</code></li><li>‚ùå <code>main.RedisWorkflowTestResponse</code></li><li>‚ùå <code>test_sample_pytest.TestSampleIntegration</code></li><li>‚ùå <code>models.FormField</code></li><li>‚ùå <code>test_extension_api.ExtensionAPITest</code></li><li>‚ùå <code>resume_extractor_db.ResumeExtractorDB</code></li><li>‚ùå <code>test_main_comprehensive.MainPyAnalyzer</code></li><li>‚ùå <code>test_sample_pytest.TestSampleAsync</code></li><li>‚ùå <code>test_sample_pytest.TestWithSetupTeardown</code></li><li>‚ùå <code>models.User</code></li><li>‚ùå <code>schemas.FormAnalysisResponse</code></li><li>‚ùå <code>user_models.UserToken</code></li><li>‚ùå <code>user_models.User</code></li><li>‚ùå <code>conftest.APIClient</code></li>
                    </ul>
                </div>
            </div>
        </body>
        </html>
        